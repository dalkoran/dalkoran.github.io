---
title: "Box Layout Panel"
date: 2009-06-19 00:58
author: spencen
comments: true
categories: [.NET, Development, WPF]
tags: []
---
<P>Here’s another quick WPF custom control derived from Panel. This one is a cross between a StackPanel and a WrapPanel. It supports two modes of layout – Inline and Block. </P>
<P>Inline elements are wrapped left to right much as the same as a WrapPanel with the default Orientation = Horizontal.</P>
<P>Block elements are stacked as per a StackPanel with the default Orientation = Vertical.</P>
<P>The benefit of combining (a simplified version) of this logic into one layout control is that an attached property can then be used on a per child basis to determine the layout (LayoutMode = Block or Inline). This is even more convenient when the property is set via an implicit style, e.g. all TextBlocks set to Inline by default, all Buttons as Block.</P>
<P>I also added some dependency properties for Padding (space between edge and top/left/right/bottom-most controls) and InternalPadding (the vertical and horizontal spacing <EM>between</EM> wrapped/stacked controls).</P><PRE class=code><FONT size=1><FONT face=Verdana><SPAN style="COLOR: blue">&lt;</SPAN><SPAN style="COLOR: #a31515">panels</SPAN><SPAN style="COLOR: blue">:</SPAN><SPAN style="COLOR: #a31515">BoxPanel </SPAN><SPAN style="COLOR: red">Height</SPAN><SPAN style="COLOR: blue">="Auto" </SPAN><SPAN style="COLOR: red">Background</SPAN><SPAN style="COLOR: blue">="PaleGreen" </SPAN><SPAN style="COLOR: red">InternalPadding</SPAN><SPAN style="COLOR: blue">="4,2" </SPAN><SPAN style="COLOR: red">Padding</SPAN></FONT></FONT><FONT size=1><FONT face=Verdana><SPAN style="COLOR: blue">="50,8,8,8"&gt;
&lt;</SPAN><SPAN style="COLOR: #a31515">TextBlock</SPAN><SPAN style="COLOR: blue">&gt;</SPAN><SPAN style="COLOR: #a31515">Some inline text.</SPAN><SPAN style="COLOR: blue">&lt;/</SPAN><SPAN style="COLOR: #a31515">TextBlock</SPAN></FONT></FONT><FONT size=1><FONT face=Verdana><SPAN style="COLOR: blue">&gt;
&lt;</SPAN><SPAN style="COLOR: #a31515">TextBlock</SPAN><SPAN style="COLOR: blue">&gt;</SPAN><SPAN style="COLOR: #a31515">Followed by some more inline text.</SPAN><SPAN style="COLOR: blue">&lt;/</SPAN><SPAN style="COLOR: #a31515">TextBlock</SPAN></FONT></FONT><FONT size=1><FONT face=Verdana><SPAN style="COLOR: blue">&gt;
&lt;</SPAN><SPAN style="COLOR: #a31515">TextBlock</SPAN><SPAN style="COLOR: blue">&gt;</SPAN><SPAN style="COLOR: #a31515">Followed by yet some more inline text.</SPAN><SPAN style="COLOR: blue">&lt;/</SPAN><SPAN style="COLOR: #a31515">TextBlock</SPAN></FONT></FONT><FONT size=1><FONT face=Verdana><SPAN style="COLOR: blue">&gt;
&lt;</SPAN><SPAN style="COLOR: #a31515">TextBlock </SPAN><SPAN style="COLOR: red">panels</SPAN><SPAN style="COLOR: blue">:</SPAN><SPAN style="COLOR: red">BoxPanel.LayoutMode</SPAN><SPAN style="COLOR: blue">="Block"&gt;</SPAN><SPAN style="COLOR: #a31515">A new paragraph.</SPAN><SPAN style="COLOR: blue">&lt;/</SPAN><SPAN style="COLOR: #a31515">TextBlock</SPAN></FONT></FONT><FONT size=1><FONT face=Verdana><SPAN style="COLOR: blue">&gt;
&lt;</SPAN><SPAN style="COLOR: #a31515">Button </SPAN><SPAN style="COLOR: red">panels</SPAN><SPAN style="COLOR: blue">:</SPAN><SPAN style="COLOR: red">BoxPanel.LayoutMode</SPAN><SPAN style="COLOR: blue">="Block"&gt;</SPAN><SPAN style="COLOR: #a31515">A Button</SPAN><SPAN style="COLOR: blue">&lt;/</SPAN><SPAN style="COLOR: #a31515">Button</SPAN></FONT></FONT><FONT size=1><FONT face=Verdana><SPAN style="COLOR: blue">&gt;
&lt;</SPAN><SPAN style="COLOR: #a31515">TextBlock</SPAN><SPAN style="COLOR: blue">&gt;</SPAN><SPAN style="COLOR: #a31515">Below are three buttons in a line</SPAN><SPAN style="COLOR: blue">&lt;/</SPAN><SPAN style="COLOR: #a31515">TextBlock</SPAN></FONT></FONT><FONT size=1><FONT face=Verdana><SPAN style="COLOR: blue">&gt;
&lt;</SPAN><SPAN style="COLOR: #a31515">Button </SPAN><SPAN style="COLOR: red">panels</SPAN><SPAN style="COLOR: blue">:</SPAN><SPAN style="COLOR: red">BoxPanel.LayoutMode</SPAN><SPAN style="COLOR: blue">="Inline"&gt;</SPAN><SPAN style="COLOR: #a31515">One</SPAN><SPAN style="COLOR: blue">&lt;/</SPAN><SPAN style="COLOR: #a31515">Button</SPAN></FONT></FONT><FONT size=1><FONT face=Verdana><SPAN style="COLOR: blue">&gt;
&lt;</SPAN><SPAN style="COLOR: #a31515">Button </SPAN><SPAN style="COLOR: red">panels</SPAN><SPAN style="COLOR: blue">:</SPAN><SPAN style="COLOR: red">BoxPanel.LayoutMode</SPAN><SPAN style="COLOR: blue">="Inline"&gt;</SPAN><SPAN style="COLOR: #a31515">Two</SPAN><SPAN style="COLOR: blue">&lt;/</SPAN><SPAN style="COLOR: #a31515">Button</SPAN></FONT></FONT><FONT size=1><FONT face=Verdana><SPAN style="COLOR: blue">&gt;
&lt;</SPAN><SPAN style="COLOR: #a31515">Button </SPAN><SPAN style="COLOR: red">panels</SPAN><SPAN style="COLOR: blue">:</SPAN><SPAN style="COLOR: red">BoxPanel.LayoutMode</SPAN><SPAN style="COLOR: blue">="Inline"&gt;</SPAN><SPAN style="COLOR: #a31515">Three</SPAN><SPAN style="COLOR: blue">&lt;/</SPAN><SPAN style="COLOR: #a31515">Button</SPAN></FONT></FONT><FONT size=1><FONT face=Verdana><SPAN style="COLOR: blue">&gt;
&lt;</SPAN><SPAN style="COLOR: #a31515">panels</SPAN><SPAN style="COLOR: blue">:</SPAN><SPAN style="COLOR: #a31515">BoxPanel </SPAN><SPAN style="COLOR: red">Background</SPAN><SPAN style="COLOR: blue">="LightYellow" </SPAN><SPAN style="COLOR: red">Padding</SPAN><SPAN style="COLOR: blue">="10,2" </SPAN><SPAN style="COLOR: red">InternalPadding</SPAN></FONT></FONT><FONT size=1><FONT face=Verdana><SPAN style="COLOR: blue">="4,0"&gt;
&lt;</SPAN><SPAN style="COLOR: #a31515">TextBlock</SPAN><SPAN style="COLOR: blue">&gt;</SPAN><SPAN style="COLOR: #a31515">The</SPAN><SPAN style="COLOR: blue">&lt;/</SPAN><SPAN style="COLOR: #a31515">TextBlock</SPAN></FONT></FONT><FONT size=1><FONT face=Verdana><SPAN style="COLOR: blue">&gt;
&lt;</SPAN><SPAN style="COLOR: #a31515">Image </SPAN><SPAN style="COLOR: red">Source</SPAN><SPAN style="COLOR: blue">="Passport_Photo_with_blue_background_half_size.png" </SPAN><SPAN style="COLOR: red">Width</SPAN></FONT></FONT><FONT size=1><FONT face=Verdana><SPAN style="COLOR: blue">="24"/&gt;
&lt;</SPAN><SPAN style="COLOR: #a31515">TextBlock</SPAN><SPAN style="COLOR: blue">&gt;</SPAN><SPAN style="COLOR: #a31515">End.</SPAN><SPAN style="COLOR: blue">&lt;/</SPAN><SPAN style="COLOR: #a31515">TextBlock</SPAN></FONT></FONT><FONT size=1><FONT face=Verdana><SPAN style="COLOR: blue">&gt;
&lt;/</SPAN><SPAN style="COLOR: #a31515">panels</SPAN><SPAN style="COLOR: blue">:</SPAN><SPAN style="COLOR: #a31515">BoxPanel</SPAN></FONT></FONT><FONT size=1><FONT face=Verdana><SPAN style="COLOR: blue">&gt;
&lt;/</SPAN><SPAN style="COLOR: #a31515">panels</SPAN><SPAN style="COLOR: blue">:</SPAN><SPAN style="COLOR: #a31515">BoxPanel</SPAN><SPAN style="COLOR: blue">&gt;</SPAN></FONT></FONT></PRE><A href="http://11011.net/software/vspaste"></A>
<P><A href="/images/BoxPanel%20-%20Layout%20Measures_2.png"><IMG style="BORDER-RIGHT-WIDTH: 0px; DISPLAY: inline; BORDER-TOP-WIDTH: 0px; BORDER-BOTTOM-WIDTH: 0px; BORDER-LEFT-WIDTH: 0px" title="BoxPanel - Layout Measures" border=0 alt="BoxPanel - Layout Measures" src="/images/BoxPanel%20-%20Layout%20Measures_thumb.png" width=640 height=257></A> </P>
<P>&nbsp;</P>
<P>Sound a bit obscure? Trust me, I had a reason <IMG border=0 src="http://blog.spencen.com/emoticons/smile.png">.</P>

